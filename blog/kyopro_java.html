<!DOCTYPE html>

<html lang="ja">

<head>
	<meta charset="UTF-8">
	<title>Javaで競プロをするデメリットとメリット</title>
	<link rel="icon" href="https://zobio.github.io/test.ico">
</head>

<header>
	<a href="https://zobio.github.io"> <img src="https://zobio.github.io/logo.jpg" width="20%" height="20%"> </a>
</header>

<style>
	.main img{
		width : 40%;
		height : 40%;
	}
</style>

<body>
	<div class="title">
		<h3>2021/8/5</h3>
		<h1>Javaで競プロをするデメリットとメリット</h1>
	</div>
	<hr>
	<div class="main">
		<p>Javaはとても便利な言語です。</p>
		<p>オブジェクト指向を採用しているため、アプリケーションなどの大規模な開発に向いています。</p>
		<p>
			また「Java仮想マシン(JVM)」PCにインストールし、これを介して実行をするため、OSに依存しないという利点があります。(その代わり絶対に実行するPCにJavaをインストールする必要があるんですが...)
		</p>
		<p>
			このような点が重宝され、リリースから20年以上経っている現在でも様々な場面で使用されています。
		</p>
		<p>
			しかし個人的には、少なくともAtCoderなどの競技プログラミングにはJavaは向いていないのではないか、と思っています。
		</p>
		<p>
			かくいう僕は競技プログラミングをJavaで半年ほどやり、その後使う言語をC++に変えました。もう今では<strong>Javaに戻そうという気は1mmもありません</strong>。その理由を書いていきたいと思います。
		</p>
		<h2>1.実行速度が遅い</h2>
		<p>
			正直これが1番の理由です。JavaはC系言語よりもはるかに遅く、また多くの場合Pythonなどのいわゆる軽量プログラミング言語 (LL)よりも遅いです。
		</p>
		<p>
			例として、<a href="https://atcoder.jp/contests/abc173/tasks/abc173_a">ABC173のA問題</a>をC++、Python(PyPy)、Javaで解いてみます。
		</p>
		<p>
			この問題では、<strong>標準入力</strong>されたものを変数に<strong>代入</strong>する操作、それをもとに<strong>演算</strong>し画面に<strong>表示</strong>する操作が行われていて、
			ループを含まないため定数時間で解くことができます。
		</p>
		<p>
			以下が実際に提出したコードです。(順番にC++、Python(PyPy)、Java)
		</p>
		<div id="pictures">
			<img src="picture/abc173a_cpp.jpg"><br>
			<img src="picture/abc173a_py.jpg"><br>
			<img src="picture/abc173a_java.jpg"><br>
		</div>
		<p>
			そして、これが実行時間です。
		</p>
		<img src="picture/abc173_time.jpg"><br>
		<p>
			いやーーJava遅いなぁ。この問題ではどの言語でもACをとれているのですが、問題によっては<strong>公式の想定解法でTLEになってしまう</strong>事がそこそこ(特にABCのD問題くらいから)あります。
		</p>
		<p>
			わざと実行時間について厳しい制約下でやりたい、という「呼吸法をトレーニングするためにわざと呼吸がしにくくなるマスクをつけているジョジョ2部のジョセフ・ジョースター」みたいな事がしたい人を除けば、
			この遅さだけでもJava以外の言語で競プロを行う十分な理由になると思います。
		</p>
		<p>
			あんまりたとえ話が面白くないですね。それでは次です。
		</p>
		<h2>2.書くことが多い/お作法がめんどくさい</h2>
		<p>
			<a href="#pictures"> 先ほどの画像</a>を見ればわかるように、Javaは他の言語に比べて書かなければいけないことが圧倒的に多いです。
		</p>
		<p>
			例えば入力を受け取るとき、C++やPythonのようにすぐに受け取ることができず、1度Scannerクラスのインスタンスを生成する必要があります。
		</p>
		<p>
			例えばnというint型の変数に入力された数値を代入する場合、各言語で次のような実装が一般的です。
		</p>
		<p>
			C++ : std::cin >> n;
		</p>
		<p>
			Python : n = int(input())
		</p>
		<p>
			Java : Scanner sc = new Scanner(System.in);
					n = sc.nextInt();
		</p>
		<p>
			めんどくさいですね。もちろんこれに関しては入力されたものを代入する関数を作れば解決するのですが、解決しない問題もあります。
		</p>
		<p>
			それが、Javaはクラス名と関数名を省略できない、というところです。
		</p>
		<p>
			public class Main {
		</p>
		<p>
			&nbsp;&nbsp;&nbsp;&nbsp;public static void main(String[] args) {
		</p>
		<p>
			んーー長い。さらにJavaは<strong>クラス名とファイル名(の拡張子以前の部分)を一致させなければいけない</strong>という決まりがあります。
		</p>
		<img src="picture/java_file_name.jpg">
		<p>
			さらに上画像のようにAtCoderではファイル名が何でも言いわけではなく、Main.拡張子で保存されるため、クラス名もMainにしなければいけません(もちろんファイル名も)。しかし当然ながら同じフォルダ内に同名のファイルを保存することはできないため、PCに保存するときは別のクラス/ファイル名で保存して提出するときにクラス名をMainに変える、という作業が必要になります。
		</p>
		<p>
			「お作法が多いならマクロを組めばいいじゃないか！」と思った方がいるかもしれません。そういった方はおそらく普段CとかC++を使っているのだと思いますが、残念ながら<strong>Javaには#defineのように手軽に使えるマクロはありません。</strong>
		</p>
		<h2>3.文法がC++と似ているため、わざわざJavaを選ぶ必要がない</h2>
		<p>
			まとめると、Javaは軽量プログラミング言語でもないのに実行速度が遅いため、あまり競技プログラミングに適しているとは言えないと思います。
		</p>
		<p>
			では、Javaから何に変えればいいのでしょう?
		</p>
		<strong><h3>C++です。</h3></strong>
		<p>
			文法はかなりJavaと近いため(JavaはCやC++を参考に作られているので当たり前といえば当たり前)、学習コスト自体はそこまで高くないはずです。
		</p>
		<p>
			それに加え、AtCoderの解説のソースコードの多くがCやC++で書かれているため(最近はPythonも増えてるけど...)、解説がより理解しやすくなるという利点もあると思います。(僕は解説の文章を読んでもあまり理解できなかったけど、実装を見てああなるほどなと納得することが結構あります)
		</p>
		<hr>
		<p>デメリットとメリットと称しておきながらデメリットしか紹介してないですね。スミマセン。もちろんJavaで競技プログラミングをやるメリットもたくさんあるはずです。</p>
		<h2>
			1.Javaのコードを書く練習になる
		</h2>
		<p>
			まあこれはJavaに限った話ではないのですが、競技プログラミングは新しく覚えた言語に慣れるために使うのにもかなり適していると考えています。
		</p>
		<p>
			ただ、競技プログラミングで使う言語機能面での知識は全体として見ればかなりニッチだと思うので、あくまで「文法に慣れる」と考えたほうがいいかもしれないです。
		</p>
		<h2>2.エラー出力が丁寧</h2>
		<p>
			特にCやC++に比べてJavaはエラー出力が丁寧です。そのため、エラーメッセージを見ても間違い箇所がわからない、ということがCやC++に比べて少ないのかな、と思います。
		</p>
		<br>
		<hr>
		<p>
			随分と長くなってしまったのでそろそろ締めます。
		</p>
		<h2 style="color: red;">
			Java使ってるみんな、C++のほうが便利だよ!!!
		</h2>
	</div>
	<br><br>
</body>

</html>